
@{
    ViewData["Title"] = "Regin";
}
<div class="appdownload bg-white" style="width:100%;height:100%">
    <div class="app-top">
        <div class="logo-wrap">
            <a href="javascript:;" class="logo "></a>
        </div>
        <div class="app-top-con">
            <div class="top-pic xh "></div>
            <div class="qr-code-box">
                <div class="swiper-container conformity" id="conformity">
                    <div class="swiper-wrapper">
                    </div>
                </div>
                @*//*@
                @*//*@
                <p class="desc">用户登录</p>
                <div class="qr-wrap" id="addDiv">
                    <table>
                        <tr>
                            <td>用户名:<input id="Text1" type="text" v-model="obj.UName" /></td>
                        </tr>
                        <tr>
                            <td>密码:<input id="Text" type="password" v-model="obj.UPwd" /></td>
                        </tr>
                        <tr>
                            <td><input id="Button1" type="button" value="注册" class="btn btn-outline-info" style="text-align: center" v-on:click="Add" /></td>
                        </tr>
                    </table>
                </div>
               
            </div>
            </div>
        </div>
    </div>

    @*<div id="addDiv">
            <table class="table table-bordered">
                <tr>
                    <td>用户名：</td>
                    <td><input type="text" v-model="obj.UName" /></td>
                </tr>
                <tr>
                    <td>密码：</td>
                    <td><input type="password" v-model="obj.UPwd" /></td>

                </tr>
                <tr>
                    <td></td>
                    <td><input id="Button1" type="button" v-on:click="Add" value="注册" /></td>
                </tr>
            </table>
        </div>*@

    <script type="text/javascript">
        //添加

        var vm = new Vue({
            el: '#addDiv',
            data: {
                obj: {
                    UName: "",
                    UPwd: ""
                }
            },
            methods: {
                Add: function () {
                    var m = JSON.stringify(this.obj);
                    axios({
                        method: "post",
                        url: "http://localhost:51166/api/UserLS/Regin",
                        params:
                        {
                            s: m
                        }
                    }).then(response => {
                        if (response.data > 0) {
                            alert("注册成功");
                            location.href = '/UserLS/Login';
                        }
                        else {
                            alert('注册失败!');
                        }
                    }).catch(error => {
                        console.log(error);
                    })
                }
            },


        })
    </script>
